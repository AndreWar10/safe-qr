<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ Teste - Coleta de Dados</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .data-item {
            background: #f8f9fa;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            border-left: 3px solid #007bff;
        }
        .test-btn {
            background: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .test-btn:hover {
            background: #0056b3;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Teste de Coleta de Dados</h1>
        <p>Este √© um arquivo de teste simplificado para verificar se o JavaScript est√° funcionando.</p>
        
        <button class="test-btn" onclick="testBasicInfo()">üîç Testar Coleta B√°sica</button>
        <button class="test-btn" onclick="testFormData()">üìù Testar Dados do Formul√°rio</button>
        <button class="test-btn" onclick="clearResults()">üóëÔ∏è Limpar Resultados</button>
        
        <div id="results"></div>
        
        <h2>üìä Instru√ß√µes de Teste:</h2>
        <ol>
            <li>Abra o Console (F12 ‚Üí Console)</li>
            <li>Clique nos bot√µes de teste acima</li>
            <li>Veja os resultados aqui e no console</li>
            <li>Digite <code>userInfo</code> no console para ver o objeto</li>
        </ol>
    </div>

    <script>
        // Objeto global para armazenar dados
        let userInfo = {};

        // Fun√ß√£o para testar coleta b√°sica
        function testBasicInfo() {
            console.log('üß™ Testando coleta b√°sica...');
            
            try {
                userInfo = {
                    timestamp: new Date().toLocaleString('pt-BR'),
                    userAgent: navigator.userAgent,
                    language: navigator.language,
                    platform: navigator.platform,
                    screenResolution: `${screen.width}x${screen.height}`,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    cookiesEnabled: navigator.cookieEnabled,
                    onlineStatus: navigator.onLine,
                    referrer: document.referrer || 'Acesso direto',
                    test: 'Dados coletados com sucesso!'
                };

                console.log('‚úÖ Dados coletados:', userInfo);
                displayResults('Coleta B√°sica', userInfo);
                
            } catch (error) {
                console.error('‚ùå Erro na coleta:', error);
                displayError('Erro na coleta b√°sica: ' + error.message);
            }
        }

        // Fun√ß√£o para testar dados do formul√°rio
        function testFormData() {
            console.log('üß™ Testando dados do formul√°rio...');
            
            try {
                const formData = {
                    name: 'Jo√£o Silva (Teste)',
                    email: 'joao@teste.com',
                    phone: '(11) 99999-9999',
                    address: 'Rua Teste, 123',
                    cardNumber: '1234 5678 9012 3456',
                    cvv: '123',
                    test: 'Formul√°rio simulado'
                };

                // Combina com dados b√°sicos
                const allData = {
                    ...userInfo,
                    formData: formData,
                    collectionMethod: 'QR Code malicioso (Teste)',
                    riskLevel: 'ALTO - Dados pessoais e financeiros coletados'
                };

                console.log('‚úÖ Dados do formul√°rio:', allData);
                displayResults('Dados do Formul√°rio', allData);
                
            } catch (error) {
                console.error('‚ùå Erro no formul√°rio:', error);
                displayError('Erro no formul√°rio: ' + error.message);
            }
        }

        // Fun√ß√£o para exibir resultados
        function displayResults(title, data) {
            const resultsDiv = document.getElementById('results');
            let html = `<h3>üìä ${title}</h3>`;
            
            Object.entries(data).forEach(([key, value]) => {
                if (typeof value === 'object' && value !== null) {
                    html += `<div class="data-item"><strong>${key}:</strong><br>`;
                    Object.entries(value).forEach(([subKey, subValue]) => {
                        html += `&nbsp;&nbsp;${subKey}: ${subValue}<br>`;
                    });
                    html += `</div>`;
                } else {
                    html += `<div class="data-item"><strong>${key}:</strong> ${value}</div>`;
                }
            });
            
            resultsDiv.innerHTML = html;
        }

        // Fun√ß√£o para exibir erros
        function displayError(message) {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `<div class="error">‚ùå ${message}</div>`;
        }

        // Fun√ß√£o para limpar resultados
        function clearResults() {
            document.getElementById('results').innerHTML = '';
            console.log('üóëÔ∏è Resultados limpos');
        }

        // Teste autom√°tico ao carregar a p√°gina
        window.addEventListener('load', function() {
            console.log('üöÄ P√°gina carregada! JavaScript funcionando.');
            console.log('üí° Digite "testBasicInfo()" no console para testar');
            
            // Teste b√°sico autom√°tico
            setTimeout(() => {
                testBasicInfo();
            }, 1000);
        });

        // Log de debug
        console.log('üß™ Arquivo de teste carregado');
        console.log('üí° Comandos dispon√≠veis:');
        console.log('   - testBasicInfo()');
        console.log('   - testFormData()');
        console.log('   - clearResults()');
        console.log('   - userInfo (para ver dados coletados)');
    </script>
</body>
</html>
